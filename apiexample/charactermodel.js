function set_3d_quality(e){setcookie("armory.cookie3dQuality",e)}function set_3d_cookie(e,t){setcookie("armory.cookie3d"+e,t)}function bindMouseActions(){$("#center_target").bind("DOMMouseScroll",wheel),document.getElementById("center_target").onmousewheel=wheel,RightClick.init("ModelViewer3","center_target"),$("#center_target").bind("mousedown",function(){tipsEnabled=!1}),mouseActionsInit||($(window).bind("mouseup",function(e){if(tipsEnabled=!0,0==e.button)try{document.getElementById("ModelViewer3").leftClickRelease()}catch(t){}if(2==e.button)try{document.getElementById("ModelViewer3").rightClickRelease()}catch(t){}}),$(window).unload(function(){try{document.getElementById("ModelViewer3").stopall()}catch(e){}}),$(window).bind("blur",function(){try{document.getElementById("ModelViewer3").sleep()}catch(e){}}),$(window).bind("focus",function(){try{document.getElementById("ModelViewer3").wakeUp()}catch(e){}}),mouseActionsInit=!0)}function handle(e){try{document.getElementById("ModelViewer3").js_mousewheel(e)}catch(t){}}function cancelEvent(e){return e=e?e:window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function wheel(e){var t=0;e||(e=window.event),e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),t&&handle(t),e.preventDefault&&e.preventDefault(),cancelEvent(e)}function pose_save(e){$("#pose_saving").show();var t=e;t.cn||(t.cn=theCharName),t.r||(t.r=theRealmName),jQuery.post("/vault/character-pose.html",e,pose_callback),ajaxinit||(bind_ajax_error(),ajaxinit=!0)}function pose_callback(e,t){"success"==t?($("#pose_saving").hide(),$("#pose_save_ok").fadeIn("fast",function(){$(this).animate({opacity:1},3e3,"linear",function(){$(this).fadeOut(3e3)})})):$("#pose_saving").html(t)}function bind_ajax_error(){$("#pose_saving").ajaxError(function(){$(this).html("<span>"+str_loginExpired+"</span>")})}var mouseActionsInit,RightClick={init:function(e,t){this.FlashObjectID=e,this.FlashContainerID=t,this.Cache=this.FlashObjectID,window.addEventListener?window.addEventListener("mousedown",this.onGeckoMouse(),!0):(document.getElementById(this.FlashContainerID).onmouseup=function(){document.getElementById(RightClick.FlashContainerID).releaseCapture()},document.oncontextmenu=function(){return window.event.srcElement.id==RightClick.FlashObjectID?!1:void(RightClick.Cache="nan")},document.getElementById(this.FlashContainerID).onmousedown=RightClick.onIEMouse)},killEvents:function(e){e&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.preventCapture&&e.preventCapture(),e.preventBubble&&e.preventBubble())},onGeckoMouse:function(){return function(e){0!=e.button&&(RightClick.killEvents(e),e.target.id==RightClick.FlashObjectID&&RightClick.Cache==RightClick.FlashObjectID&&RightClick.call(),RightClick.Cache=e.target.id)}},onIEMouse:function(){event.button>1&&(window.event.srcElement.id==RightClick.FlashObjectID&&RightClick.Cache==RightClick.FlashObjectID&&(setTimeout(function(){document.getElementById(RightClick.FlashContainerID).releaseCapture()},1),RightClick.call()),document.getElementById(RightClick.FlashContainerID).setCapture(),window.event.srcElement.id&&(RightClick.Cache=window.event.srcElement.id))},call:function(){if(!(Browser.opera||Browser.mac&&Browser.firefox))try{document.getElementById(this.FlashObjectID).rightClick()}catch(e){}}},ajaxinit;